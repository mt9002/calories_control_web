<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calories Control - IMC</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/custom.css" />
    <link rel="icon" type="image/png" sizes="32x32" href="./img/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./img/favicon.png">
    <link rel="shortcut icon" href="./img/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>

<body class="bg-light d-flex flex-column min-vh-100">

    <!-- Header dinámico -->
    <div id="header"></div>

    <!-- Contenido dinámico -->
    <main class="container my-4 flex-fill" style="max-width: 1200px;" id="app">
        <!-- aquí se inyectan las vistas -->
    </main>

    <!-- Footer dinámico -->
    <div id="footer"></div>

    <!-- JS -->
    <script src="js/layout.js"></script>
    <script src="js/home.js"></script>

    <!-- Auto-logout (versión FRONT) -->
    <script>
        const sessionTimeout = 15 * 60 * 1000;
        let timeout;

        function resetTimer() {
            clearTimeout(timeout);
            timeout = setTimeout(() => {
                localStorage.removeItem("token");
                window.location.href = "login.html";
            }, sessionTimeout);
        }

        ['click', 'mousemove', 'keypress'].forEach(evt =>
            document.addEventListener(evt, resetTimer)
        );

        resetTimer();
    </script>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>